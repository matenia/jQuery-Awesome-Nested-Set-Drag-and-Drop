  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (29.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (10.0ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateCategories (20100903224132)
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "parent_id" integer, "lft" integer, "rgt" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100903224132')[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("categories")[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-04 08:45:14) [GET]

ActionController::RoutingError (No route matches "/" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-04 08:45:20) [GET]

ActionController::RoutingError (No route matches "/categorie" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 08:45:22) [GET]
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 97ms (View: 17, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#new (for 127.0.0.1 at 2010-09-04 08:45:24) [GET]
Rendering template within layouts/application
Rendering categories/new
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Rendered categories/_form (12.9ms)
Completed in 99ms (View: 94, DB: 0) | 200 OK [http://localhost/categories/new]


Processing CategoriesController#new (for 127.0.0.1 at 2010-09-04 08:45:42) [GET]
Rendering template within layouts/application
Rendering categories/new
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Rendered categories/_form (8.9ms)
Completed in 20ms (View: 14, DB: 0) | 200 OK [http://localhost/categories/new]


Processing CategoriesController#new (for 127.0.0.1 at 2010-09-04 08:45:44) [GET]
Rendering template within layouts/application
Rendering categories/new
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Rendered categories/_form (8.7ms)
Completed in 16ms (View: 10, DB: 0) | 200 OK [http://localhost/categories/new]


Processing CategoriesController#new (for 127.0.0.1 at 2010-09-04 08:46:43) [GET]
Rendering template within layouts/application
Rendering categories/new
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Rendered categories/_form (8.3ms)
Completed in 20ms (View: 13, DB: 0) | 200 OK [http://localhost/categories/new]


Processing CategoriesController#create (for 127.0.0.1 at 2010-09-04 08:47:36) [POST]
  Parameters: {"category"=>{"name"=>"First Category", "description"=>"This is the first category description, the edit field can be modified. This field is completely optional, but useful if you want to add a summary for your categories."}, "commit"=>"Save changes", "authenticity_token"=>"P+H6F8/9W3mXjQP3dWzf7n6VsrdK557QKvfBM8/2/bA="}
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("categories".rgt) AS max_rgt FROM "categories" [0m
  [4;36;1mCategory Create (0.4ms)[0m   [0;1mINSERT INTO "categories" ("name", "created_at", "updated_at", "lft", "parent_id", "description", "rgt") VALUES('First Category', '2010-09-03 22:47:36', '2010-09-03 22:47:36', 1, NULL, 'This is the first category description, the edit field can be modified. This field is completely optional, but useful if you want to add a summary for your categories.', 2)[0m
Redirected to http://localhost:3000/categories/1
Completed in 95ms (DB: 1) | 302 Found [http://localhost/categories]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 08:47:36) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 1) [0m
Rendering template within layouts/application
Rendering categories/show
Completed in 15ms (View: 9, DB: 0) | 200 OK [http://localhost/categories/1]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 08:47:38) [GET]
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 11ms (View: 6, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#new (for 127.0.0.1 at 2010-09-04 08:47:41) [GET]
Rendering template within layouts/application
Rendering categories/new
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."lft" >= 1 AND "categories"."rgt" <= 2) ORDER BY "lft"[0m
Rendered categories/_form (8.7ms)
Completed in 16ms (View: 10, DB: 1) | 200 OK [http://localhost/categories/new]


Processing CategoriesController#new (for 127.0.0.1 at 2010-09-04 08:48:05) [GET]
Rendering template within layouts/application
Rendering categories/new
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."lft" >= 1 AND "categories"."rgt" <= 2) ORDER BY "lft"[0m
Rendered categories/_form (9.8ms)
Completed in 21ms (View: 14, DB: 0) | 200 OK [http://localhost/categories/new]


Processing CategoriesController#new (for 127.0.0.1 at 2010-09-04 08:48:19) [GET]
Rendering template within layouts/application
Rendering categories/new
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."lft" >= 1 AND "categories"."rgt" <= 2) ORDER BY "lft"[0m
Rendered categories/_form (9.0ms)
Completed in 94ms (View: 89, DB: 0) | 200 OK [http://localhost/categories/new]


Processing CategoriesController#create (for 127.0.0.1 at 2010-09-04 08:48:45) [POST]
  Parameters: {"category"=>{"name"=>"CATEGORY 2", "parent_id"=>"", "description"=>"This is the second category description"}, "commit"=>"Save changes", "authenticity_token"=>"P+H6F8/9W3mXjQP3dWzf7n6VsrdK557QKvfBM8/2/bA="}
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT max("categories".rgt) AS max_rgt FROM "categories" [0m
  [4;36;1mCategory Create (0.3ms)[0m   [0;1mINSERT INTO "categories" ("name", "created_at", "updated_at", "lft", "parent_id", "description", "rgt") VALUES('CATEGORY 2', '2010-09-03 22:48:45', '2010-09-03 22:48:45', 3, NULL, 'This is the second category description', 4)[0m
Redirected to http://localhost:3000/categories/2
Completed in 35ms (DB: 0) | 302 Found [http://localhost/categories]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 08:48:45) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 2) [0m
Rendering template within layouts/application
Rendering categories/show
Completed in 11ms (View: 5, DB: 0) | 200 OK [http://localhost/categories/2]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 08:48:48) [GET]
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 13ms (View: 7, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#new (for 127.0.0.1 at 2010-09-04 08:48:50) [GET]
Rendering template within layouts/application
Rendering categories/new
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."lft" >= 1 AND "categories"."rgt" <= 2) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."lft" >= 3 AND "categories"."rgt" <= 4) ORDER BY "lft"[0m
Rendered categories/_form (10.6ms)
Completed in 18ms (View: 11, DB: 1) | 200 OK [http://localhost/categories/new]


Processing CategoriesController#create (for 127.0.0.1 at 2010-09-04 08:49:05) [POST]
  Parameters: {"category"=>{"name"=>"First Category Child", "parent_id"=>"1", "description"=>"Child of first category"}, "commit"=>"Save changes", "authenticity_token"=>"P+H6F8/9W3mXjQP3dWzf7n6VsrdK557QKvfBM8/2/bA="}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("categories".rgt) AS max_rgt FROM "categories" [0m
  [4;35;1mCategory Create (0.6ms)[0m   [0mINSERT INTO "categories" ("name", "created_at", "updated_at", "lft", "parent_id", "description", "rgt") VALUES('First Category Child', '2010-09-03 22:49:05', '2010-09-03 22:49:05', 5, 1, 'Child of first category', 6)[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 1) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 2 AND 4 THEN "lft" + 6 - 4 WHEN "lft" BETWEEN 5 AND 6 THEN "lft" + 2 - 5 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 2 AND 4 THEN "rgt" + 6 - 4 WHEN "rgt" BETWEEN 5 AND 6 THEN "rgt" + 2 - 5 ELSE "rgt" END, "parent_id" = CASE WHEN id = 3 THEN 1 ELSE "parent_id" END [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
Redirected to http://localhost:3000/categories/3
Completed in 98ms (DB: 1) | 302 Found [http://localhost/categories]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 08:49:05) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 3) [0m
Rendering template within layouts/application
Rendering categories/show
Completed in 11ms (View: 5, DB: 0) | 200 OK [http://localhost/categories/3]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 08:49:07) [GET]
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 15ms (View: 10, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#new (for 127.0.0.1 at 2010-09-04 08:49:08) [GET]
Rendering template within layouts/application
Rendering categories/new
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."lft" >= 1 AND "categories"."rgt" <= 4) ORDER BY "lft"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE (("categories".id != 3) AND ("categories"."lft" <= 2 AND "categories"."rgt" >= 3)) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."lft" >= 5 AND "categories"."rgt" <= 6) ORDER BY "lft"[0m
Rendered categories/_form (11.7ms)
Completed in 18ms (View: 12, DB: 1) | 200 OK [http://localhost/categories/new]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 08:49:24) [GET]
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 15ms (View: 9, DB: 1) | 200 OK [http://localhost/categories/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 08:55:17) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m
Completed in 92ms (View: 89, DB: 1) | 200 OK [http://localhost/index/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 08:56:23) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m
Completed in 16ms (View: 14, DB: 1) | 200 OK [http://localhost/index/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 08:56:48) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m
Completed in 15ms (View: 13, DB: 1) | 200 OK [http://localhost/index/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 08:57:13) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://localhost/index/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 08:57:21) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m
Completed in 89ms (View: 86, DB: 1) | 200 OK [http://localhost/index/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 08:57:30) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://localhost/index/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 08:57:38) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m
Completed in 13ms (View: 10, DB: 1) | 200 OK [http://localhost/index/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 08:57:40) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://localhost/index/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 08:57:50) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m
Completed in 11ms (View: 9, DB: 1) | 200 OK [http://localhost/index/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 08:58:02) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://localhost/index/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 08:58:21) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://localhost/index/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 08:58:26) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m
Completed in 12ms (View: 9, DB: 1) | 200 OK [http://localhost/index/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 08:58:35) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m
Completed in 12ms (View: 9, DB: 1) | 200 OK [http://localhost/index/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 08:58:42) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m
Completed in 87ms (View: 85, DB: 1) | 200 OK [http://localhost/index/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 08:58:51) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://localhost/index/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 08:59:01) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://localhost/index/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 08:59:12) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://localhost/index/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 08:59:23) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m
Completed in 13ms (View: 10, DB: 1) | 200 OK [http://localhost/index/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 09:06:03) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #27 of app/views/index/index.html.erb:
24: <h2>RENDER EACH NODE IN TREE AS AN UNORDERED LIST</h2>
25: 
26: <ul id="tree">
27: 	<% for rootnode in @root %>
28:     	<%= render :partial => "partials/tree", :locals => {:root => rootnode} %>
29: 	<% end -%>
30: </ul>

    app/views/index/index.html.erb:27

Rendered rescues/_trace (36.6ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 09:06:41) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m

ActionView::TemplateError (Missing template index/_tree.erb in view path app/views) on line #5 of app/views/partials/_tree.html.erb:
2:     <%= content_tag :div, "#{root.name} &nbsp; <small>" + link_to ('edit', edit_category_path(root)) + "</small>" %>
3:     <% content_tag :ul do %>
4:         <% for child in root.children do %>
5:             <%= render :partial => "tree", :locals => {:root => child }%>
6:         <% end %>
7:     <% end unless root.leaf? %>
8: <% end %>

    app/views/partials/_tree.html.erb:5
    app/views/partials/_tree.html.erb:4
    app/views/partials/_tree.html.erb:3
    app/views/partials/_tree.html.erb:1
    app/views/index/index.html.erb:28
    app/views/index/index.html.erb:27

Rendered rescues/_trace (54.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 09:06:53) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (2.9ms)
Rendered partials/_tree (0.4ms)
Completed in 22ms (View: 20, DB: 1) | 200 OK [http://localhost/index/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 09:08:03) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (2.1ms)
Rendered partials/_tree (0.4ms)
Completed in 105ms (View: 103, DB: 1) | 200 OK [http://localhost/index/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 09:10:08) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (2.0ms)
Rendered partials/_tree (0.4ms)
Completed in 18ms (View: 16, DB: 1) | 200 OK [http://localhost/index/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 09:11:17) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (2.2ms)
Rendered partials/_tree (0.4ms)
Completed in 26ms (View: 23, DB: 1) | 200 OK [http://localhost/index/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 09:11:39) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (2.2ms)
Rendered partials/_tree (0.4ms)
Completed in 95ms (View: 93, DB: 1) | 200 OK [http://localhost/index/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 09:11:53) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (2.1ms)
Rendered partials/_tree (0.4ms)
Completed in 18ms (View: 15, DB: 1) | 200 OK [http://localhost/index/]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 09:12:00) [GET]
  [4;36;1mCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 15ms (View: 10, DB: 1) | 200 OK [http://localhost/categories]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:12:05) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 71ms (View: 70, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 09:12:07) [GET]
  [4;35;1mCategory Load (0.6ms)[0m   [0mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 16ms (View: 10, DB: 1) | 200 OK [http://localhost/categories]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:12:08) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 09:12:10) [GET]
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 16ms (View: 10, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 09:12:22) [GET]
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 15ms (View: 10, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 09:12:30) [GET]
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 15ms (View: 10, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 09:13:43) [GET]
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 21ms (View: 14, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 09:14:01) [GET]
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 20ms (View: 14, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 09:14:40) [GET]
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 20ms (View: 14, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 09:14:56) [GET]
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 20ms (View: 14, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 09:15:07) [GET]
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 19ms (View: 13, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 09:15:36) [GET]
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 19ms (View: 14, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 09:15:37) [GET]
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 94ms (View: 88, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 09:15:43) [GET]
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 20ms (View: 14, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 09:15:56) [GET]
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 20ms (View: 14, DB: 1) | 200 OK [http://localhost/categories]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 09:17:49) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 2) [0m
Rendering template within layouts/application
Rendering categories/show

ActionView::TemplateError (undefined method `name' for nil:NilClass) on line #7 of app/views/categories/show.html.erb:
4: 
5: <p>
6:   <strong>Parent:</strong>
7:   <%=h @category.parent.name %>
8: </p>
9: <p>
10:   <strong>Lft:</strong>

    app/views/categories/show.html.erb:7

Rendered rescues/_trace (116.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 09:18:05) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 2) [0m
Rendering template within layouts/application
Rendering categories/show

ActionView::TemplateError (undefined method `name' for nil:NilClass) on line #7 of app/views/categories/show.html.erb:
4: 
5: <p>
6:   <strong>Parent:</strong>
7:   <%=h @category.parent_id.name %>
8: </p>
9: <p>
10:   <strong>Lft:</strong>

    app/views/categories/show.html.erb:7

Rendered rescues/_trace (35.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 09:18:19) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 2) [0m
Rendering template within layouts/application
Rendering categories/show
Completed in 16ms (View: 9, DB: 0) | 200 OK [http://localhost/categories/2]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 09:18:31) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 2) [0m
Rendering template within layouts/application
Rendering categories/show
Completed in 15ms (View: 9, DB: 0) | 200 OK [http://localhost/categories/2]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 09:19:00) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 2) [0m
Rendering template within layouts/application
Rendering categories/show
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE (("categories".id != 2) AND ("categories"."lft" <= 5 AND "categories"."rgt" >= 6)) ORDER BY "lft" LIMIT 1[0m
Completed in 18ms (View: 11, DB: 0) | 200 OK [http://localhost/categories/2]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 09:19:09) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 2) [0m
Rendering template within layouts/application
Rendering categories/show
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE (("categories".id != 2) AND ("categories"."lft" <= 5 AND "categories"."rgt" >= 6)) ORDER BY "lft"[0m
Completed in 17ms (View: 10, DB: 0) | 200 OK [http://localhost/categories/2]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 09:19:14) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 2) [0m
Rendering template within layouts/application
Rendering categories/show
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE (("categories".id != 2) AND ("categories"."lft" <= 5 AND "categories"."rgt" >= 6)) ORDER BY "lft"[0m
Completed in 16ms (View: 10, DB: 0) | 200 OK [http://localhost/categories/2]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 09:19:15) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 2) [0m
Rendering template within layouts/application
Rendering categories/show
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE (("categories".id != 2) AND ("categories"."lft" <= 5 AND "categories"."rgt" >= 6)) ORDER BY "lft"[0m
Completed in 91ms (View: 84, DB: 0) | 200 OK [http://localhost/categories/2]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 09:19:25) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 2) [0m
Rendering template within layouts/application
Rendering categories/show
Completed in 16ms (View: 10, DB: 0) | 200 OK [http://localhost/categories/2]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 09:19:42) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 2) [0m
Rendering template within layouts/application
Rendering categories/show
Completed in 15ms (View: 10, DB: 0) | 200 OK [http://localhost/categories/2]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 09:20:01) [GET]
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 18ms (View: 11, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 09:20:04) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 3) [0m
Rendering template within layouts/application
Rendering categories/show
Completed in 15ms (View: 9, DB: 0) | 200 OK [http://localhost/categories/3]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 09:20:13) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 3) [0m
Rendering template within layouts/application
Rendering categories/show
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE (("categories".id != 3) AND ("categories"."lft" <= 2 AND "categories"."rgt" >= 3)) ORDER BY "lft"[0m
Completed in 93ms (View: 87, DB: 0) | 200 OK [http://localhost/categories/3]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 09:20:19) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 3) [0m
Rendering template within layouts/application
Rendering categories/show
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE (("categories".id != 3) AND ("categories"."lft" <= 2 AND "categories"."rgt" >= 3)) ORDER BY "lft" LIMIT 1[0m
Completed in 17ms (View: 10, DB: 1) | 200 OK [http://localhost/categories/3]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 09:20:24) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 3) [0m
Rendering template within layouts/application
Rendering categories/show
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE (("categories".id != 3) AND ("categories"."lft" <= 2 AND "categories"."rgt" >= 3)) ORDER BY "lft" LIMIT 1[0m
Completed in 16ms (View: 10, DB: 0) | 200 OK [http://localhost/categories/3]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 09:20:40) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 3) [0m
Rendering template within layouts/application
Rendering categories/show
Completed in 15ms (View: 9, DB: 0) | 200 OK [http://localhost/categories/3]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 09:21:38) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 3) [0m
Rendering template within layouts/application
Rendering categories/show
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 1) [0m
Completed in 16ms (View: 9, DB: 0) | 200 OK [http://localhost/categories/3]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 09:22:35) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 3) [0m
Rendering template within layouts/application
Rendering categories/show
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 1) [0m
Completed in 96ms (View: 10, DB: 0) | 200 OK [http://localhost/categories/3]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 09:22:37) [GET]
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 16ms (View: 10, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 09:22:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 1) [0m
Rendering template within layouts/application
Rendering categories/show
Completed in 12ms (View: 6, DB: 0) | 200 OK [http://localhost/categories/1]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 09:22:49) [GET]
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 15ms (View: 10, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 09:22:50) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 3) [0m
Rendering template within layouts/application
Rendering categories/show
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 1) [0m
Completed in 12ms (View: 6, DB: 0) | 200 OK [http://localhost/categories/3]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 09:22:52) [GET]
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 15ms (View: 10, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 09:22:55) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 1) [0m
Rendering template within layouts/application
Rendering categories/show
Completed in 12ms (View: 5, DB: 0) | 200 OK [http://localhost/categories/1]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 09:23:06) [GET]
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 16ms (View: 10, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:23:12) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:31:30) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 91ms (View: 57, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:32:13) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 19ms (View: 17, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:32:20) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 72ms (View: 57, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:33:00) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 46ms (View: 45, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:34:09) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:34:25) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:35:48) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:35:55) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:36:05) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:36:20) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:36:43) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:36:54) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:37:07) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:37:51) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:38:03) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:38:20) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 5ms (View: 2, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:38:46) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:39:07) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:40:18) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:41:03) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:41:08) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:42:04) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:43:25) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 09:45:05) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 16:05:23) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 206ms (View: 204, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 16:22:09) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 30ms (View: 28, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 16:22:13) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 16:23:20) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (11.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m

ActionView::TemplateError (Missing template categories/_tree.erb in view path app/views) on line #50 of app/views/categories/dragdrop.html.erb:
47: <% @root = Category.roots %>
48: <ul id="tree">
49: 	<% for rootnode in @root %>
50:     	<%= render :partial => "tree", :locals => {:root => rootnode} %>
51: 	<% end -%>
52: </ul>

    app/views/categories/dragdrop.html.erb:50
    app/views/categories/dragdrop.html.erb:49

Rendered rescues/_trace (228.0ms)
Rendered rescues/_request_and_response (54.1ms)
Rendering rescues/layout (internal_server_error)


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 16:23:40) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCategory Load (82.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (2.7ms)
Rendered partials/_tree (88.5ms)
Rendered partials/_tree (0.5ms)
Completed in 109ms (View: 21, DB: 82) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#array (for 127.0.0.1 at 2010-09-04 16:23:48) [POST]
  Parameters: {"ul"=>{"0"=>{"class"=>"", "id"=>"category_1"}, "1"=>{"class"=>"", "id"=>"category_3"}, "2"=>{"class"=>"", "id"=>"category_2"}}}

ActionController::UnknownAction (No action responded to array. Actions: create, destroy, edit, index, new, show, and update):
  

Rendering rescues/layout (not_found)


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:16:08) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;36;1mCategory Load (25.7ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (1.1ms)
Rendered partials/_tree (130.9ms)
Rendered partials/_tree (0.5ms)
Completed in 171ms (View: 143, DB: 26) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:19:22) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.6ms)
Rendered partials/_tree (4.9ms)
Rendered partials/_tree (0.4ms)
Completed in 19ms (View: 17, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#array (for 127.0.0.1 at 2010-09-04 21:19:25) [POST]
  Parameters: {"ul"=>{"0"=>{"class"=>"", "id"=>"category_1", "children"=>{"0"=>{"class"=>"", "id"=>"category_3"}, "1"=>{"class"=>"", "id"=>"category_2"}}}}}
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','1')) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','3')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','2')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;36;1mCategory Update (0.3ms)[0m   [0;1mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 4 AND 4 THEN "lft" + 6 - 4 WHEN "lft" BETWEEN 5 AND 6 THEN "lft" + 4 - 5 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 4 AND 4 THEN "rgt" + 6 - 4 WHEN "rgt" BETWEEN 5 AND 6 THEN "rgt" + 4 - 5 ELSE "rgt" END, "parent_id" = CASE WHEN id = 2 THEN 1 ELSE "parent_id" END [0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" LEFT OUTER JOIN "categories" AS parent ON "categories"."parent_id" = parent.id WHERE ("categories"."lft" IS NULL OR "categories"."rgt" IS NULL OR "categories"."lft" >= "categories"."rgt" OR ("categories"."parent_id" IS NOT NULL AND ("categories"."lft" <= parent."lft" OR "categories"."rgt" >= parent."rgt"))) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", COUNT("lft") FROM "categories" GROUP BY "lft" 
 HAVING COUNT("lft") > 1 LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "rgt", COUNT("rgt") FROM "categories" GROUP BY "rgt" 
 HAVING COUNT("rgt") > 1 LIMIT 1[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Completed in 134ms (View: 1, DB: 2) | 200 OK [http://localhost/categories/array]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:19:26) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (0.6ms)
Rendered partials/_tree (5.2ms)
Completed in 16ms (View: 14, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:19:42) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (5.0ms)
Completed in 102ms (View: 100, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:19:51) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.6ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (5.1ms)
Completed in 20ms (View: 18, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:20:35) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.9ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (5.7ms)
Completed in 21ms (View: 19, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:20:37) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (5.5ms)
Completed in 21ms (View: 17, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:21:02) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (1.9ms)
Rendered partials/_tree (0.7ms)
Rendered partials/_tree (7.9ms)
Completed in 25ms (View: 22, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:21:03) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (5.0ms)
Completed in 15ms (View: 13, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#array (for 127.0.0.1 at 2010-09-04 21:21:04) [POST]
  Parameters: {"ul"=>{"0"=>{"class"=>"", "id"=>"category_1", "children"=>{"0"=>{"class"=>"", "id"=>"category_3"}, "1"=>{"class"=>"", "id"=>"category_2"}}}}}
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','1')) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','3')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;36;1mCategory Update (0.5ms)[0m   [0;1mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 2 AND 3 THEN "lft" + 5 - 3 WHEN "lft" BETWEEN 4 AND 5 THEN "lft" + 2 - 4 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 2 AND 3 THEN "rgt" + 5 - 3 WHEN "rgt" BETWEEN 4 AND 5 THEN "rgt" + 2 - 4 ELSE "rgt" END, "parent_id" = CASE WHEN id = 3 THEN 1 ELSE "parent_id" END [0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','2')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;36;1mCategory Update (0.3ms)[0m   [0;1mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 2 AND 3 THEN "lft" + 5 - 3 WHEN "lft" BETWEEN 4 AND 5 THEN "lft" + 2 - 4 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 2 AND 3 THEN "rgt" + 5 - 3 WHEN "rgt" BETWEEN 4 AND 5 THEN "rgt" + 2 - 4 ELSE "rgt" END, "parent_id" = CASE WHEN id = 2 THEN 1 ELSE "parent_id" END [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" LEFT OUTER JOIN "categories" AS parent ON "categories"."parent_id" = parent.id WHERE ("categories"."lft" IS NULL OR "categories"."rgt" IS NULL OR "categories"."lft" >= "categories"."rgt" OR ("categories"."parent_id" IS NOT NULL AND ("categories"."lft" <= parent."lft" OR "categories"."rgt" >= parent."rgt"))) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", COUNT("lft") FROM "categories" GROUP BY "lft" 
 HAVING COUNT("lft") > 1 LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "rgt", COUNT("rgt") FROM "categories" GROUP BY "rgt" 
 HAVING COUNT("rgt") > 1 LIMIT 1[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Completed in 31ms (View: 1, DB: 3) | 200 OK [http://localhost/categories/array]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:21:04) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.7ms)
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (87.3ms)
Completed in 98ms (View: 96, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#array (for 127.0.0.1 at 2010-09-04 21:21:05) [POST]
  Parameters: {"ul"=>{"0"=>{"class"=>"", "id"=>"category_1", "children"=>{"0"=>{"class"=>"", "id"=>"category_3"}, "1"=>{"class"=>"", "id"=>"category_2"}}}}}
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','1')) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','3')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;36;1mCategory Update (0.3ms)[0m   [0;1mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 2 AND 3 THEN "lft" + 5 - 3 WHEN "lft" BETWEEN 4 AND 5 THEN "lft" + 2 - 4 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 2 AND 3 THEN "rgt" + 5 - 3 WHEN "rgt" BETWEEN 4 AND 5 THEN "rgt" + 2 - 4 ELSE "rgt" END, "parent_id" = CASE WHEN id = 3 THEN 1 ELSE "parent_id" END [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','2')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;36;1mCategory Update (0.4ms)[0m   [0;1mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 2 AND 3 THEN "lft" + 5 - 3 WHEN "lft" BETWEEN 4 AND 5 THEN "lft" + 2 - 4 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 2 AND 3 THEN "rgt" + 5 - 3 WHEN "rgt" BETWEEN 4 AND 5 THEN "rgt" + 2 - 4 ELSE "rgt" END, "parent_id" = CASE WHEN id = 2 THEN 1 ELSE "parent_id" END [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" LEFT OUTER JOIN "categories" AS parent ON "categories"."parent_id" = parent.id WHERE ("categories"."lft" IS NULL OR "categories"."rgt" IS NULL OR "categories"."lft" >= "categories"."rgt" OR ("categories"."parent_id" IS NOT NULL AND ("categories"."lft" <= parent."lft" OR "categories"."rgt" >= parent."rgt"))) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", COUNT("lft") FROM "categories" GROUP BY "lft" 
 HAVING COUNT("lft") > 1 LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "rgt", COUNT("rgt") FROM "categories" GROUP BY "rgt" 
 HAVING COUNT("rgt") > 1 LIMIT 1[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Completed in 77ms (View: 1, DB: 3) | 200 OK [http://localhost/categories/array]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:21:05) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.6ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (7.3ms)
Completed in 17ms (View: 15, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#array (for 127.0.0.1 at 2010-09-04 21:21:06) [POST]
  Parameters: {"ul"=>{"0"=>{"class"=>"", "id"=>"category_1", "children"=>{"0"=>{"class"=>"", "id"=>"category_3"}, "1"=>{"class"=>"", "id"=>"category_2"}}}}}
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','1')) LIMIT 1[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','3')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;36;1mCategory Update (0.9ms)[0m   [0;1mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 2 AND 3 THEN "lft" + 5 - 3 WHEN "lft" BETWEEN 4 AND 5 THEN "lft" + 2 - 4 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 2 AND 3 THEN "rgt" + 5 - 3 WHEN "rgt" BETWEEN 4 AND 5 THEN "rgt" + 2 - 4 ELSE "rgt" END, "parent_id" = CASE WHEN id = 3 THEN 1 ELSE "parent_id" END [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','2')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;36;1mCategory Update (0.3ms)[0m   [0;1mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 2 AND 3 THEN "lft" + 5 - 3 WHEN "lft" BETWEEN 4 AND 5 THEN "lft" + 2 - 4 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 2 AND 3 THEN "rgt" + 5 - 3 WHEN "rgt" BETWEEN 4 AND 5 THEN "rgt" + 2 - 4 ELSE "rgt" END, "parent_id" = CASE WHEN id = 2 THEN 1 ELSE "parent_id" END [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" LEFT OUTER JOIN "categories" AS parent ON "categories"."parent_id" = parent.id WHERE ("categories"."lft" IS NULL OR "categories"."rgt" IS NULL OR "categories"."lft" >= "categories"."rgt" OR ("categories"."parent_id" IS NOT NULL AND ("categories"."lft" <= parent."lft" OR "categories"."rgt" >= parent."rgt"))) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", COUNT("lft") FROM "categories" GROUP BY "lft" 
 HAVING COUNT("lft") > 1 LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "rgt", COUNT("rgt") FROM "categories" GROUP BY "rgt" 
 HAVING COUNT("rgt") > 1 LIMIT 1[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Completed in 63ms (View: 1, DB: 3) | 200 OK [http://localhost/categories/array]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:21:06) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.7ms)
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (24.6ms)
Completed in 40ms (View: 37, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:21:22) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.8ms)
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (7.0ms)
Completed in 24ms (View: 21, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:21:26) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.7ms)
Rendered partials/_tree (0.7ms)
Rendered partials/_tree (6.7ms)
Completed in 18ms (View: 15, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:21:29) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (5.1ms)
Completed in 16ms (View: 14, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:21:31) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.6ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (6.3ms)
Completed in 100ms (View: 97, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:21:32) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.6ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (5.2ms)
Completed in 16ms (View: 14, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:21:36) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.9ms)
Rendered partials/_tree (0.6ms)
Rendered partials/_tree (7.9ms)
Completed in 17ms (View: 15, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:21:39) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (1.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.6ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (5.4ms)
Completed in 20ms (View: 16, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:21:41) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.6ms)
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (6.2ms)
Completed in 99ms (View: 97, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:22:01) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.6ms)
Rendered partials/_tree (0.6ms)
Rendered partials/_tree (5.5ms)
Completed in 23ms (View: 20, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#array (for 127.0.0.1 at 2010-09-04 21:22:03) [POST]
  Parameters: {"ul"=>{"0"=>{"class"=>"", "id"=>"category_1", "children"=>{"0"=>{"class"=>"", "id"=>"category_3"}}}, "1"=>{"class"=>"", "id"=>"category_2"}}}
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','1')) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','3')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;36;1mCategory Update (0.4ms)[0m   [0;1mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 2 AND 3 THEN "lft" + 5 - 3 WHEN "lft" BETWEEN 4 AND 5 THEN "lft" + 2 - 4 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 2 AND 3 THEN "rgt" + 5 - 3 WHEN "rgt" BETWEEN 4 AND 5 THEN "rgt" + 2 - 4 ELSE "rgt" END, "parent_id" = CASE WHEN id = 3 THEN 1 ELSE "parent_id" END [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','2')) LIMIT 1[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','1')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;35;1mCategory Update (0.3ms)[0m   [0mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 2 AND 3 THEN "lft" + 6 - 3 WHEN "lft" BETWEEN 4 AND 6 THEN "lft" + 2 - 4 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 2 AND 3 THEN "rgt" + 6 - 3 WHEN "rgt" BETWEEN 4 AND 6 THEN "rgt" + 2 - 4 ELSE "rgt" END, "parent_id" = CASE WHEN id = 2 THEN NULL ELSE "parent_id" END [0m
  [4;36;1mCategory Load (0.6ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" LEFT OUTER JOIN "categories" AS parent ON "categories"."parent_id" = parent.id WHERE ("categories"."lft" IS NULL OR "categories"."rgt" IS NULL OR "categories"."lft" >= "categories"."rgt" OR ("categories"."parent_id" IS NOT NULL AND ("categories"."lft" <= parent."lft" OR "categories"."rgt" >= parent."rgt"))) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", COUNT("lft") FROM "categories" GROUP BY "lft" 
 HAVING COUNT("lft") > 1 LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "rgt", COUNT("rgt") FROM "categories" GROUP BY "rgt" 
 HAVING COUNT("rgt") > 1 LIMIT 1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Completed in 71ms (View: 1, DB: 4) | 200 OK [http://localhost/categories/array]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:22:05) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.9ms)
Rendered partials/_tree (5.7ms)
Rendered partials/_tree (0.4ms)
Completed in 24ms (View: 21, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#array (for 127.0.0.1 at 2010-09-04 21:22:10) [POST]
  Parameters: {"ul"=>{"0"=>{"class"=>"", "id"=>"category_1", "children"=>{"0"=>{"class"=>"", "id"=>"category_3"}, "1"=>{"class"=>"", "id"=>"category_2"}}}}}
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','1')) LIMIT 1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','3')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','2')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;36;1mCategory Update (0.3ms)[0m   [0;1mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 4 AND 4 THEN "lft" + 6 - 4 WHEN "lft" BETWEEN 5 AND 6 THEN "lft" + 4 - 5 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 4 AND 4 THEN "rgt" + 6 - 4 WHEN "rgt" BETWEEN 5 AND 6 THEN "rgt" + 4 - 5 ELSE "rgt" END, "parent_id" = CASE WHEN id = 2 THEN 1 ELSE "parent_id" END [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" LEFT OUTER JOIN "categories" AS parent ON "categories"."parent_id" = parent.id WHERE ("categories"."lft" IS NULL OR "categories"."rgt" IS NULL OR "categories"."lft" >= "categories"."rgt" OR ("categories"."parent_id" IS NOT NULL AND ("categories"."lft" <= parent."lft" OR "categories"."rgt" >= parent."rgt"))) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", COUNT("lft") FROM "categories" GROUP BY "lft" 
 HAVING COUNT("lft") > 1 LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "rgt", COUNT("rgt") FROM "categories" GROUP BY "rgt" 
 HAVING COUNT("rgt") > 1 LIMIT 1[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Completed in 61ms (View: 1, DB: 2) | 200 OK [http://localhost/categories/array]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:22:11) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.6ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (5.0ms)
Completed in 15ms (View: 13, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#array (for 127.0.0.1 at 2010-09-04 21:22:14) [POST]
  Parameters: {"ul"=>{"0"=>{"class"=>"", "id"=>"category_1"}, "1"=>{"class"=>"", "id"=>"category_2"}, "2"=>{"class"=>"", "id"=>"category_3"}}}
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','1')) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','2')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','1')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;35;1mCategory Update (0.4ms)[0m   [0mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 4 AND 5 THEN "lft" + 6 - 5 WHEN "lft" BETWEEN 6 AND 6 THEN "lft" + 4 - 6 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 4 AND 5 THEN "rgt" + 6 - 5 WHEN "rgt" BETWEEN 6 AND 6 THEN "rgt" + 4 - 6 ELSE "rgt" END, "parent_id" = CASE WHEN id = 2 THEN NULL ELSE "parent_id" END [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','3')) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','2')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;36;1mCategory Update (0.3ms)[0m   [0;1mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 2 AND 3 THEN "lft" + 6 - 3 WHEN "lft" BETWEEN 4 AND 6 THEN "lft" + 2 - 4 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 2 AND 3 THEN "rgt" + 6 - 3 WHEN "rgt" BETWEEN 4 AND 6 THEN "rgt" + 2 - 4 ELSE "rgt" END, "parent_id" = CASE WHEN id = 3 THEN NULL ELSE "parent_id" END [0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" LEFT OUTER JOIN "categories" AS parent ON "categories"."parent_id" = parent.id WHERE ("categories"."lft" IS NULL OR "categories"."rgt" IS NULL OR "categories"."lft" >= "categories"."rgt" OR ("categories"."parent_id" IS NOT NULL AND ("categories"."lft" <= parent."lft" OR "categories"."rgt" >= parent."rgt"))) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", COUNT("lft") FROM "categories" GROUP BY "lft" 
 HAVING COUNT("lft") > 1 LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "rgt", COUNT("rgt") FROM "categories" GROUP BY "rgt" 
 HAVING COUNT("rgt") > 1 LIMIT 1[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Completed in 71ms (View: 1, DB: 3) | 200 OK [http://localhost/categories/array]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:22:17) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Rendered partials/_tree (2.5ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (0.4ms)
Completed in 15ms (View: 12, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:22:40) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Rendered partials/_tree (2.5ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (0.4ms)
Completed in 105ms (View: 103, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:22:43) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Rendered partials/_tree (2.5ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (0.4ms)
Completed in 14ms (View: 12, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:23:45) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Rendered partials/_tree (3.1ms)
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (0.6ms)
Completed in 21ms (View: 19, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:23:46) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Rendered partials/_tree (2.9ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (0.4ms)
Completed in 14ms (View: 12, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:23:48) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;36;1mCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Rendered partials/_tree (2.6ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (0.4ms)
Completed in 14ms (View: 12, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:23:51) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Rendered partials/_tree (2.4ms)
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (0.5ms)
Completed in 15ms (View: 13, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#array (for 127.0.0.1 at 2010-09-04 21:23:52) [POST]
  Parameters: {"ul"=>{"0"=>{"class"=>"", "id"=>"category_1"}, "1"=>{"class"=>"", "id"=>"category_2"}, "2"=>{"class"=>"", "id"=>"category_3"}}}
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','1')) LIMIT 1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','2')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','1')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','3')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','2')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;35;1mCategory Load (0.7ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" LEFT OUTER JOIN "categories" AS parent ON "categories"."parent_id" = parent.id WHERE ("categories"."lft" IS NULL OR "categories"."rgt" IS NULL OR "categories"."lft" >= "categories"."rgt" OR ("categories"."parent_id" IS NOT NULL AND ("categories"."lft" <= parent."lft" OR "categories"."rgt" >= parent."rgt"))) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", COUNT("lft") FROM "categories" GROUP BY "lft" 
 HAVING COUNT("lft") > 1 LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "rgt", COUNT("rgt") FROM "categories" GROUP BY "rgt" 
 HAVING COUNT("rgt") > 1 LIMIT 1[0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Completed in 24ms (View: 1, DB: 3) | 200 OK [http://localhost/categories/array]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:23:54) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Rendered partials/_tree (2.5ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (0.4ms)
Completed in 14ms (View: 12, DB: 0) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#array (for 127.0.0.1 at 2010-09-04 21:23:56) [POST]
  Parameters: {"ul"=>{"0"=>{"class"=>"", "id"=>"category_1"}, "1"=>{"class"=>"", "id"=>"category_2"}, "2"=>{"class"=>"", "id"=>"category_3"}}}
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','1')) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','2')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','1')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','3')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','2')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" LEFT OUTER JOIN "categories" AS parent ON "categories"."parent_id" = parent.id WHERE ("categories"."lft" IS NULL OR "categories"."rgt" IS NULL OR "categories"."lft" >= "categories"."rgt" OR ("categories"."parent_id" IS NOT NULL AND ("categories"."lft" <= parent."lft" OR "categories"."rgt" >= parent."rgt"))) [0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT "lft", COUNT("lft") FROM "categories" GROUP BY "lft" 
 HAVING COUNT("lft") > 1 LIMIT 1[0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT "rgt", COUNT("rgt") FROM "categories" GROUP BY "rgt" 
 HAVING COUNT("rgt") > 1 LIMIT 1[0m
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Completed in 104ms (View: 1, DB: 2) | 200 OK [http://localhost/categories/array]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:23:57) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Rendered partials/_tree (2.7ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (0.4ms)
Completed in 15ms (View: 13, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 21:24:02) [GET]
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 16ms (View: 10, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#new (for 127.0.0.1 at 2010-09-04 21:24:04) [GET]
Rendering template within layouts/application
Rendering categories/new
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."lft" >= 1 AND "categories"."rgt" <= 2) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."lft" >= 3 AND "categories"."rgt" <= 4) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."lft" >= 5 AND "categories"."rgt" <= 6) ORDER BY "lft"[0m
Rendered categories/_form (145.2ms)
Completed in 152ms (View: 146, DB: 1) | 200 OK [http://localhost/categories/new]


Processing CategoriesController#create (for 127.0.0.1 at 2010-09-04 21:24:20) [POST]
  Parameters: {"category"=>{"name"=>"Another Category", "parent_id"=>"1", "description"=>"Another Category Here"}, "commit"=>"Save changes", "authenticity_token"=>"P+H6F8/9W3mXjQP3dWzf7n6VsrdK557QKvfBM8/2/bA="}
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("categories".rgt) AS max_rgt FROM "categories" [0m
  [4;36;1mCategory Create (36.9ms)[0m   [0;1mINSERT INTO "categories" ("name", "created_at", "updated_at", "lft", "parent_id", "description", "rgt") VALUES('Another Category', '2010-09-04 11:24:20', '2010-09-04 11:24:20', 7, 1, 'Another Category Here', 8)[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 1) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 4) [0m
  [4;35;1mCategory Update (0.3ms)[0m   [0mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 2 AND 6 THEN "lft" + 8 - 6 WHEN "lft" BETWEEN 7 AND 8 THEN "lft" + 2 - 7 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 2 AND 6 THEN "rgt" + 8 - 6 WHEN "rgt" BETWEEN 7 AND 8 THEN "rgt" + 2 - 7 ELSE "rgt" END, "parent_id" = CASE WHEN id = 4 THEN 1 ELSE "parent_id" END [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 4) [0m
Redirected to http://localhost:3000/categories/4
Completed in 62ms (DB: 38) | 302 Found [http://localhost/categories]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 21:24:20) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 4) [0m
Rendering template within layouts/application
Rendering categories/show
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 1) [0m
Completed in 94ms (View: 6, DB: 0) | 200 OK [http://localhost/categories/4]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:24:23) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.7ms)
Rendered partials/_tree (5.4ms)
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (0.4ms)
Completed in 18ms (View: 16, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#array (for 127.0.0.1 at 2010-09-04 21:24:31) [POST]
  Parameters: {"ul"=>{"0"=>{"class"=>"", "id"=>"category_1", "children"=>{"0"=>{"class"=>"", "id"=>"category_3"}, "1"=>{"class"=>"", "id"=>"category_4"}}}, "1"=>{"class"=>"", "id"=>"category_2"}}}
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','1')) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','3')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;35;1mCategory Update (0.4ms)[0m   [0mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 4 AND 6 THEN "lft" + 8 - 6 WHEN "lft" BETWEEN 7 AND 8 THEN "lft" + 4 - 7 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 4 AND 6 THEN "rgt" + 8 - 6 WHEN "rgt" BETWEEN 7 AND 8 THEN "rgt" + 4 - 7 ELSE "rgt" END, "parent_id" = CASE WHEN id = 3 THEN 1 ELSE "parent_id" END [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','4')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 4) [0m
  [4;35;1mCategory Update (0.4ms)[0m   [0mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 2 AND 3 THEN "lft" + 5 - 3 WHEN "lft" BETWEEN 4 AND 5 THEN "lft" + 2 - 4 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 2 AND 3 THEN "rgt" + 5 - 3 WHEN "rgt" BETWEEN 4 AND 5 THEN "rgt" + 2 - 4 ELSE "rgt" END, "parent_id" = CASE WHEN id = 4 THEN 1 ELSE "parent_id" END [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 4) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','2')) LIMIT 1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','1')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" LEFT OUTER JOIN "categories" AS parent ON "categories"."parent_id" = parent.id WHERE ("categories"."lft" IS NULL OR "categories"."rgt" IS NULL OR "categories"."lft" >= "categories"."rgt" OR ("categories"."parent_id" IS NOT NULL AND ("categories"."lft" <= parent."lft" OR "categories"."rgt" >= parent."rgt"))) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", COUNT("lft") FROM "categories" GROUP BY "lft" 
 HAVING COUNT("lft") > 1 LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "rgt", COUNT("rgt") FROM "categories" GROUP BY "rgt" 
 HAVING COUNT("rgt") > 1 LIMIT 1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Completed in 73ms (View: 1, DB: 4) | 200 OK [http://localhost/categories/array]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:24:38) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.6ms)
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (5.4ms)
Rendered partials/_tree (0.6ms)
Completed in 16ms (View: 14, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#array (for 127.0.0.1 at 2010-09-04 21:24:41) [POST]
  Parameters: {"ul"=>{"0"=>{"class"=>"", "id"=>"category_1", "children"=>{"0"=>{"class"=>"", "id"=>"category_3"}, "1"=>{"class"=>"", "id"=>"category_4"}}}, "1"=>{"class"=>"", "id"=>"category_2"}}}
  [4;36;1mCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','1')) LIMIT 1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','3')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;35;1mCategory Update (0.4ms)[0m   [0mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 2 AND 3 THEN "lft" + 5 - 3 WHEN "lft" BETWEEN 4 AND 5 THEN "lft" + 2 - 4 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 2 AND 3 THEN "rgt" + 5 - 3 WHEN "rgt" BETWEEN 4 AND 5 THEN "rgt" + 2 - 4 ELSE "rgt" END, "parent_id" = CASE WHEN id = 3 THEN 1 ELSE "parent_id" END [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','4')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 4) [0m
  [4;35;1mCategory Update (0.4ms)[0m   [0mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 2 AND 3 THEN "lft" + 5 - 3 WHEN "lft" BETWEEN 4 AND 5 THEN "lft" + 2 - 4 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 2 AND 3 THEN "rgt" + 5 - 3 WHEN "rgt" BETWEEN 4 AND 5 THEN "rgt" + 2 - 4 ELSE "rgt" END, "parent_id" = CASE WHEN id = 4 THEN 1 ELSE "parent_id" END [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 4) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','2')) LIMIT 1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','1')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" LEFT OUTER JOIN "categories" AS parent ON "categories"."parent_id" = parent.id WHERE ("categories"."lft" IS NULL OR "categories"."rgt" IS NULL OR "categories"."lft" >= "categories"."rgt" OR ("categories"."parent_id" IS NOT NULL AND ("categories"."lft" <= parent."lft" OR "categories"."rgt" >= parent."rgt"))) [0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT "lft", COUNT("lft") FROM "categories" GROUP BY "lft" 
 HAVING COUNT("lft") > 1 LIMIT 1[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "rgt", COUNT("rgt") FROM "categories" GROUP BY "rgt" 
 HAVING COUNT("rgt") > 1 LIMIT 1[0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Completed in 156ms (View: 1, DB: 5) | 200 OK [http://localhost/categories/array]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:24:42) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.6ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (5.5ms)
Rendered partials/_tree (0.5ms)
Completed in 17ms (View: 14, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#array (for 127.0.0.1 at 2010-09-04 21:24:45) [POST]
  Parameters: {"ul"=>{"0"=>{"class"=>"", "id"=>"category_1", "children"=>{"0"=>{"class"=>"", "id"=>"category_3"}, "1"=>{"class"=>"", "id"=>"category_2"}, "2"=>{"class"=>"", "id"=>"category_4"}}}}}
  [4;36;1mCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','1')) LIMIT 1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','3')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;35;1mCategory Update (0.3ms)[0m   [0mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 2 AND 3 THEN "lft" + 5 - 3 WHEN "lft" BETWEEN 4 AND 5 THEN "lft" + 2 - 4 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 2 AND 3 THEN "rgt" + 5 - 3 WHEN "rgt" BETWEEN 4 AND 5 THEN "rgt" + 2 - 4 ELSE "rgt" END, "parent_id" = CASE WHEN id = 3 THEN 1 ELSE "parent_id" END [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','2')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;35;1mCategory Update (0.6ms)[0m   [0mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 6 AND 6 THEN "lft" + 8 - 6 WHEN "lft" BETWEEN 7 AND 8 THEN "lft" + 6 - 7 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 6 AND 6 THEN "rgt" + 8 - 6 WHEN "rgt" BETWEEN 7 AND 8 THEN "rgt" + 6 - 7 ELSE "rgt" END, "parent_id" = CASE WHEN id = 2 THEN 1 ELSE "parent_id" END [0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','4')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 4) [0m
  [4;35;1mCategory Update (0.3ms)[0m   [0mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 2 AND 3 THEN "lft" + 7 - 3 WHEN "lft" BETWEEN 4 AND 7 THEN "lft" + 2 - 4 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 2 AND 3 THEN "rgt" + 7 - 3 WHEN "rgt" BETWEEN 4 AND 7 THEN "rgt" + 2 - 4 ELSE "rgt" END, "parent_id" = CASE WHEN id = 4 THEN 1 ELSE "parent_id" END [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" LEFT OUTER JOIN "categories" AS parent ON "categories"."parent_id" = parent.id WHERE ("categories"."lft" IS NULL OR "categories"."rgt" IS NULL OR "categories"."lft" >= "categories"."rgt" OR ("categories"."parent_id" IS NOT NULL AND ("categories"."lft" <= parent."lft" OR "categories"."rgt" >= parent."rgt"))) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", COUNT("lft") FROM "categories" GROUP BY "lft" 
 HAVING COUNT("lft") > 1 LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "rgt", COUNT("rgt") FROM "categories" GROUP BY "rgt" 
 HAVING COUNT("rgt") > 1 LIMIT 1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Completed in 84ms (View: 1, DB: 4) | 200 OK [http://localhost/categories/array]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:24:46) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (6.0ms)
Completed in 16ms (View: 14, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#array (for 127.0.0.1 at 2010-09-04 21:24:55) [POST]
  Parameters: {"ul"=>{"0"=>{"class"=>"", "id"=>"category_3", "children"=>{"0"=>{"class"=>"", "id"=>"category_1", "children"=>{"0"=>{"class"=>"", "id"=>"category_2"}, "1"=>{"class"=>"", "id"=>"category_4"}}}}}}}
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','3')) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;36;1mCategory Update (0.7ms)[0m   [0;1mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 1 AND 1 THEN "lft" + 3 - 1 WHEN "lft" BETWEEN 2 AND 3 THEN "lft" + 1 - 2 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 1 AND 1 THEN "rgt" + 3 - 1 WHEN "rgt" BETWEEN 2 AND 3 THEN "rgt" + 1 - 2 ELSE "rgt" END, "parent_id" = CASE WHEN id = 3 THEN NULL ELSE "parent_id" END [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','1')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Update (0.3ms)[0m   [0mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 2 AND 2 THEN "lft" + 8 - 2 WHEN "lft" BETWEEN 3 AND 8 THEN "lft" + 2 - 3 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 2 AND 2 THEN "rgt" + 8 - 2 WHEN "rgt" BETWEEN 3 AND 8 THEN "rgt" + 2 - 3 ELSE "rgt" END, "parent_id" = CASE WHEN id = 1 THEN 3 ELSE "parent_id" END [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','2')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;35;1mCategory Update (0.3ms)[0m   [0mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 3 AND 4 THEN "lft" + 6 - 4 WHEN "lft" BETWEEN 5 AND 6 THEN "lft" + 3 - 5 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 3 AND 4 THEN "rgt" + 6 - 4 WHEN "rgt" BETWEEN 5 AND 6 THEN "rgt" + 3 - 5 ELSE "rgt" END, "parent_id" = CASE WHEN id = 2 THEN 1 ELSE "parent_id" END [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','4')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 4) [0m
  [4;35;1mCategory Update (0.3ms)[0m   [0mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 3 AND 4 THEN "lft" + 6 - 4 WHEN "lft" BETWEEN 5 AND 6 THEN "lft" + 3 - 5 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 3 AND 4 THEN "rgt" + 6 - 4 WHEN "rgt" BETWEEN 5 AND 6 THEN "rgt" + 3 - 5 ELSE "rgt" END, "parent_id" = CASE WHEN id = 4 THEN 1 ELSE "parent_id" END [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" LEFT OUTER JOIN "categories" AS parent ON "categories"."parent_id" = parent.id WHERE ("categories"."lft" IS NULL OR "categories"."rgt" IS NULL OR "categories"."lft" >= "categories"."rgt" OR ("categories"."parent_id" IS NOT NULL AND ("categories"."lft" <= parent."lft" OR "categories"."rgt" >= parent."rgt"))) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", COUNT("lft") FROM "categories" GROUP BY "lft" 
 HAVING COUNT("lft") > 1 LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "rgt", COUNT("rgt") FROM "categories" GROUP BY "rgt" 
 HAVING COUNT("rgt") > 1 LIMIT 1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Completed in 174ms (View: 1, DB: 5) | 200 OK [http://localhost/categories/array]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:24:56) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 3) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.7ms)
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (25.9ms)
Rendered partials/_tree (30.0ms)
Completed in 41ms (View: 38, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#array (for 127.0.0.1 at 2010-09-04 21:25:00) [POST]
  Parameters: {"ul"=>{"0"=>{"class"=>"", "id"=>"category_3", "children"=>{"0"=>{"class"=>"", "id"=>"category_1", "children"=>{"0"=>{"class"=>"", "id"=>"category_2", "children"=>{"0"=>{"class"=>"", "id"=>"category_4"}}}}}}}}}
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','3')) LIMIT 1[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','1')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','2')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;35;1mCategory Update (0.6ms)[0m   [0mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 3 AND 4 THEN "lft" + 6 - 4 WHEN "lft" BETWEEN 5 AND 6 THEN "lft" + 3 - 5 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 3 AND 4 THEN "rgt" + 6 - 4 WHEN "rgt" BETWEEN 5 AND 6 THEN "rgt" + 3 - 5 ELSE "rgt" END, "parent_id" = CASE WHEN id = 2 THEN 1 ELSE "parent_id" END [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','4')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 4) [0m
  [4;35;1mCategory Update (0.3ms)[0m   [0mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 3 AND 4 THEN "lft" + 5 - 4 WHEN "lft" BETWEEN 5 AND 5 THEN "lft" + 3 - 5 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 3 AND 4 THEN "rgt" + 5 - 4 WHEN "rgt" BETWEEN 5 AND 5 THEN "rgt" + 3 - 5 ELSE "rgt" END, "parent_id" = CASE WHEN id = 4 THEN 2 ELSE "parent_id" END [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" LEFT OUTER JOIN "categories" AS parent ON "categories"."parent_id" = parent.id WHERE ("categories"."lft" IS NULL OR "categories"."rgt" IS NULL OR "categories"."lft" >= "categories"."rgt" OR ("categories"."parent_id" IS NOT NULL AND ("categories"."lft" <= parent."lft" OR "categories"."rgt" >= parent."rgt"))) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", COUNT("lft") FROM "categories" GROUP BY "lft" 
 HAVING COUNT("lft") > 1 LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "rgt", COUNT("rgt") FROM "categories" GROUP BY "rgt" 
 HAVING COUNT("rgt") > 1 LIMIT 1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Completed in 83ms (View: 1, DB: 5) | 200 OK [http://localhost/categories/array]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:25:01) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 3) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 2) ORDER BY "lft"[0m
Rendered partials/_tree (0.6ms)
Rendered partials/_tree (2.7ms)
Rendered partials/_tree (4.5ms)
Rendered partials/_tree (8.4ms)
Completed in 18ms (View: 16, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#array (for 127.0.0.1 at 2010-09-04 21:25:05) [POST]
  Parameters: {"ul"=>{"0"=>{"class"=>"", "id"=>"category_3", "children"=>{"0"=>{"class"=>"", "id"=>"category_1", "children"=>{"0"=>{"class"=>"", "id"=>"category_2"}}}}}, "1"=>{"class"=>"", "id"=>"category_4"}}}
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','3')) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','1')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','2')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','4')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','3')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 4) [0m
  [4;36;1mCategory Update (0.3ms)[0m   [0;1mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 4 AND 5 THEN "lft" + 8 - 5 WHEN "lft" BETWEEN 6 AND 8 THEN "lft" + 4 - 6 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 4 AND 5 THEN "rgt" + 8 - 5 WHEN "rgt" BETWEEN 6 AND 8 THEN "rgt" + 4 - 6 ELSE "rgt" END, "parent_id" = CASE WHEN id = 4 THEN NULL ELSE "parent_id" END [0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" LEFT OUTER JOIN "categories" AS parent ON "categories"."parent_id" = parent.id WHERE ("categories"."lft" IS NULL OR "categories"."rgt" IS NULL OR "categories"."lft" >= "categories"."rgt" OR ("categories"."parent_id" IS NOT NULL AND ("categories"."lft" <= parent."lft" OR "categories"."rgt" >= parent."rgt"))) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", COUNT("lft") FROM "categories" GROUP BY "lft" 
 HAVING COUNT("lft") > 1 LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "rgt", COUNT("rgt") FROM "categories" GROUP BY "rgt" 
 HAVING COUNT("rgt") > 1 LIMIT 1[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Completed in 61ms (View: 1, DB: 3) | 200 OK [http://localhost/categories/array]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:25:06) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 3) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (2.3ms)
Rendered partials/_tree (6.3ms)
Rendered partials/_tree (0.4ms)
Completed in 17ms (View: 15, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#array (for 127.0.0.1 at 2010-09-04 21:25:10) [POST]
  Parameters: {"ul"=>{"0"=>{"class"=>"", "id"=>"category_3", "children"=>{"0"=>{"class"=>"", "id"=>"category_1", "children"=>{"0"=>{"class"=>"", "id"=>"category_2"}}}, "1"=>{"class"=>"", "id"=>"category_4"}}}}}
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','3')) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','1')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','2')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','4')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 4) [0m
  [4;35;1mCategory Update (0.3ms)[0m   [0mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 6 AND 6 THEN "lft" + 8 - 6 WHEN "lft" BETWEEN 7 AND 8 THEN "lft" + 6 - 7 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 6 AND 6 THEN "rgt" + 8 - 6 WHEN "rgt" BETWEEN 7 AND 8 THEN "rgt" + 6 - 7 ELSE "rgt" END, "parent_id" = CASE WHEN id = 4 THEN 3 ELSE "parent_id" END [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" LEFT OUTER JOIN "categories" AS parent ON "categories"."parent_id" = parent.id WHERE ("categories"."lft" IS NULL OR "categories"."rgt" IS NULL OR "categories"."lft" >= "categories"."rgt" OR ("categories"."parent_id" IS NOT NULL AND ("categories"."lft" <= parent."lft" OR "categories"."rgt" >= parent."rgt"))) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", COUNT("lft") FROM "categories" GROUP BY "lft" 
 HAVING COUNT("lft") > 1 LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "rgt", COUNT("rgt") FROM "categories" GROUP BY "rgt" 
 HAVING COUNT("rgt") > 1 LIMIT 1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Completed in 70ms (View: 1, DB: 3) | 200 OK [http://localhost/categories/array]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:25:11) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 3) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.7ms)
Rendered partials/_tree (2.6ms)
Rendered partials/_tree (78.8ms)
Rendered partials/_tree (85.6ms)
Completed in 95ms (View: 93, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#array (for 127.0.0.1 at 2010-09-04 21:25:15) [POST]
  Parameters: {"ul"=>{"0"=>{"class"=>"", "id"=>"category_3", "children"=>{"0"=>{"class"=>"", "id"=>"category_4"}, "1"=>{"class"=>"", "id"=>"category_1", "children"=>{"0"=>{"class"=>"", "id"=>"category_2"}}}}}}}
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','3')) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','4')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 4) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','1')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Update (0.3ms)[0m   [0mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 2 AND 5 THEN "lft" + 7 - 5 WHEN "lft" BETWEEN 6 AND 7 THEN "lft" + 2 - 6 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 2 AND 5 THEN "rgt" + 7 - 5 WHEN "rgt" BETWEEN 6 AND 7 THEN "rgt" + 2 - 6 ELSE "rgt" END, "parent_id" = CASE WHEN id = 1 THEN 3 ELSE "parent_id" END [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','2')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" LEFT OUTER JOIN "categories" AS parent ON "categories"."parent_id" = parent.id WHERE ("categories"."lft" IS NULL OR "categories"."rgt" IS NULL OR "categories"."lft" >= "categories"."rgt" OR ("categories"."parent_id" IS NOT NULL AND ("categories"."lft" <= parent."lft" OR "categories"."rgt" >= parent."rgt"))) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", COUNT("lft") FROM "categories" GROUP BY "lft" 
 HAVING COUNT("lft") > 1 LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "rgt", COUNT("rgt") FROM "categories" GROUP BY "rgt" 
 HAVING COUNT("rgt") > 1 LIMIT 1[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Completed in 68ms (View: 1, DB: 3) | 200 OK [http://localhost/categories/array]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:25:16) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 3) ORDER BY "lft"[0m
Rendered partials/_tree (0.6ms)
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.6ms)
Rendered partials/_tree (2.5ms)
Rendered partials/_tree (7.3ms)
Completed in 18ms (View: 15, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#array (for 127.0.0.1 at 2010-09-04 21:25:34) [POST]
  Parameters: {"ul"=>{"0"=>{"class"=>"", "id"=>"category_3", "children"=>{"0"=>{"class"=>"", "id"=>"category_4"}, "1"=>{"class"=>"", "id"=>"category_1", "children"=>{"0"=>{"class"=>"", "id"=>"category_2"}}}}}}}
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','3')) LIMIT 1[0m
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','4')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 4) [0m
  [4;35;1mCategory Update (1.0ms)[0m   [0mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 2 AND 3 THEN "lft" + 7 - 3 WHEN "lft" BETWEEN 4 AND 7 THEN "lft" + 2 - 4 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 2 AND 3 THEN "rgt" + 7 - 3 WHEN "rgt" BETWEEN 4 AND 7 THEN "rgt" + 2 - 4 ELSE "rgt" END, "parent_id" = CASE WHEN id = 4 THEN 3 ELSE "parent_id" END [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 4) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','1')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;35;1mCategory Update (0.3ms)[0m   [0mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 2 AND 5 THEN "lft" + 7 - 5 WHEN "lft" BETWEEN 6 AND 7 THEN "lft" + 2 - 6 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 2 AND 5 THEN "rgt" + 7 - 5 WHEN "rgt" BETWEEN 6 AND 7 THEN "rgt" + 2 - 6 ELSE "rgt" END, "parent_id" = CASE WHEN id = 1 THEN 3 ELSE "parent_id" END [0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','2')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" LEFT OUTER JOIN "categories" AS parent ON "categories"."parent_id" = parent.id WHERE ("categories"."lft" IS NULL OR "categories"."rgt" IS NULL OR "categories"."lft" >= "categories"."rgt" OR ("categories"."parent_id" IS NOT NULL AND ("categories"."lft" <= parent."lft" OR "categories"."rgt" >= parent."rgt"))) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", COUNT("lft") FROM "categories" GROUP BY "lft" 
 HAVING COUNT("lft") > 1 LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "rgt", COUNT("rgt") FROM "categories" GROUP BY "rgt" 
 HAVING COUNT("rgt") > 1 LIMIT 1[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Completed in 71ms (View: 1, DB: 4) | 200 OK [http://localhost/categories/array]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:25:40) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 3) ORDER BY "lft"[0m
Rendered partials/_tree (80.1ms)
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.6ms)
Rendered partials/_tree (2.9ms)
Rendered partials/_tree (87.3ms)
Completed in 97ms (View: 94, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing ApplicationController#index (for 127.0.0.1 at 2010-09-04 21:25:52) [GET]

ActionController::RoutingError (No route matches "/" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 21:26:17) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 3) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 3) ORDER BY "lft"[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 3) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.7ms)
Rendered partials/_tree (2.6ms)
Rendered partials/_tree (4.7ms)
Completed in 19ms (View: 17, DB: 1) | 200 OK [http://localhost/]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:26:24) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 3) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.7ms)
Rendered partials/_tree (2.4ms)
Rendered partials/_tree (7.1ms)
Completed in 17ms (View: 14, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 21:26:27) [GET]
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 100ms (View: 95, DB: 0) | 200 OK [http://localhost/categories]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 21:26:32) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 3) [0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 3) ORDER BY "lft"[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 3) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (2.4ms)
Rendered partials/_tree (4.8ms)
Completed in 20ms (View: 17, DB: 1) | 200 OK [http://localhost/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 21:31:04) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 3) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 3) ORDER BY "lft"[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 3) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.7ms)
Rendered partials/_tree (2.5ms)
Rendered partials/_tree (4.6ms)
Completed in 22ms (View: 19, DB: 1) | 200 OK [http://localhost/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 21:32:11) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 3) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 3) ORDER BY "lft"[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 3) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (2.2ms)
Rendered partials/_tree (4.7ms)
Completed in 21ms (View: 19, DB: 1) | 200 OK [http://localhost/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 21:32:13) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 3) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 3) ORDER BY "lft"[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 3) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 1) ORDER BY "lft"[0m
Rendered partials/_tree (0.6ms)
Rendered partials/_tree (2.2ms)
Rendered partials/_tree (4.4ms)
Completed in 17ms (View: 15, DB: 1) | 200 OK [http://localhost/]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 21:32:13) [GET]
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 17ms (View: 12, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#destroy (for 127.0.0.1 at 2010-09-04 21:32:15) [DELETE]
  Parameters: {"authenticity_token"=>"P+H6F8/9W3mXjQP3dWzf7n6VsrdK557QKvfBM8/2/bA=", "id"=>"1"}
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 1) [0m
  [4;36;1mCategory Delete all (0.3ms)[0m   [0;1mDELETE FROM "categories" WHERE ("lft" > 4 AND "rgt" < 7) [0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE "categories" SET "lft" = ("lft" - 4) WHERE ("lft" > 7) [0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE "categories" SET "rgt" = ("rgt" - 4) WHERE ("rgt" > 7) [0m
  [4;35;1mCategory Destroy (0.1ms)[0m   [0mDELETE FROM "categories" WHERE "id" = 1[0m
Redirected to http://localhost:3000/categories
Completed in 14ms (DB: 1) | 302 Found [http://localhost/categories/1]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 21:32:16) [GET]
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 14ms (View: 9, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#destroy (for 127.0.0.1 at 2010-09-04 21:32:19) [DELETE]
  Parameters: {"authenticity_token"=>"P+H6F8/9W3mXjQP3dWzf7n6VsrdK557QKvfBM8/2/bA=", "id"=>"3"}
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 3) [0m
  [4;36;1mCategory Delete all (0.3ms)[0m   [0;1mDELETE FROM "categories" WHERE ("lft" > 1 AND "rgt" < 4) [0m
  [4;35;1mCategory Update (0.2ms)[0m   [0mUPDATE "categories" SET "lft" = ("lft" - 4) WHERE ("lft" > 4) [0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE "categories" SET "rgt" = ("rgt" - 4) WHERE ("rgt" > 4) [0m
  [4;35;1mCategory Destroy (0.1ms)[0m   [0mDELETE FROM "categories" WHERE "id" = 3[0m
Redirected to http://localhost:3000/categories
Completed in 59ms (DB: 1) | 302 Found [http://localhost/categories/3]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 21:32:19) [GET]
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/categories]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 21:32:31) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://localhost/]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 21:32:36) [GET]
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#new (for 127.0.0.1 at 2010-09-04 21:32:39) [GET]
Rendering template within layouts/application
Rendering categories/new
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Rendered categories/_form (7.9ms)
Completed in 15ms (View: 10, DB: 0) | 200 OK [http://localhost/categories/new]


Processing CategoriesController#create (for 127.0.0.1 at 2010-09-04 21:33:50) [POST]
  Parameters: {"category"=>{"name"=>"First Root Category", "parent_id"=>"", "description"=>"This is a root category"}, "commit"=>"Save changes", "authenticity_token"=>"P+H6F8/9W3mXjQP3dWzf7n6VsrdK557QKvfBM8/2/bA="}
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("categories".rgt) AS max_rgt FROM "categories" [0m
  [4;36;1mCategory Create (0.3ms)[0m   [0;1mINSERT INTO "categories" ("name", "created_at", "updated_at", "lft", "parent_id", "description", "rgt") VALUES('First Root Category', '2010-09-04 11:33:50', '2010-09-04 11:33:50', 1, NULL, 'This is a root category', 2)[0m
Redirected to http://localhost:3000/categories/5
Completed in 14ms (DB: 0) | 302 Found [http://localhost/categories]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 21:33:50) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 5) [0m
Rendering template within layouts/application
Rendering categories/show
Completed in 11ms (View: 5, DB: 0) | 200 OK [http://localhost/categories/5]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 21:34:04) [GET]
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 11ms (View: 6, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#new (for 127.0.0.1 at 2010-09-04 21:34:10) [GET]
Rendering template within layouts/application
Rendering categories/new
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."lft" >= 1 AND "categories"."rgt" <= 2) ORDER BY "lft"[0m
Rendered categories/_form (9.3ms)
Completed in 16ms (View: 11, DB: 0) | 200 OK [http://localhost/categories/new]


Processing CategoriesController#create (for 127.0.0.1 at 2010-09-04 21:34:15) [POST]
  Parameters: {"category"=>{"name"=>"Category 2", "parent_id"=>"", "description"=>""}, "commit"=>"Save changes", "authenticity_token"=>"P+H6F8/9W3mXjQP3dWzf7n6VsrdK557QKvfBM8/2/bA="}
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("categories".rgt) AS max_rgt FROM "categories" [0m
  [4;36;1mCategory Create (0.3ms)[0m   [0;1mINSERT INTO "categories" ("name", "created_at", "updated_at", "lft", "parent_id", "description", "rgt") VALUES('Category 2', '2010-09-04 11:34:15', '2010-09-04 11:34:15', 3, NULL, '', 4)[0m
Redirected to http://localhost:3000/categories/6
Completed in 66ms (DB: 1) | 302 Found [http://localhost/categories]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 21:34:15) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 6) [0m
Rendering template within layouts/application
Rendering categories/show
Completed in 11ms (View: 5, DB: 0) | 200 OK [http://localhost/categories/6]


Processing CategoriesController#new (for 127.0.0.1 at 2010-09-04 21:34:17) [GET]
Rendering template within layouts/application
Rendering categories/new
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."lft" >= 1 AND "categories"."rgt" <= 2) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."lft" >= 3 AND "categories"."rgt" <= 4) ORDER BY "lft"[0m
Rendered categories/_form (9.5ms)
Completed in 17ms (View: 11, DB: 1) | 200 OK [http://localhost/categories/new]


Processing CategoriesController#create (for 127.0.0.1 at 2010-09-04 21:34:20) [POST]
  Parameters: {"category"=>{"name"=>"Category 3", "parent_id"=>"", "description"=>""}, "commit"=>"Save changes", "authenticity_token"=>"P+H6F8/9W3mXjQP3dWzf7n6VsrdK557QKvfBM8/2/bA="}
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("categories".rgt) AS max_rgt FROM "categories" [0m
  [4;36;1mCategory Create (0.3ms)[0m   [0;1mINSERT INTO "categories" ("name", "created_at", "updated_at", "lft", "parent_id", "description", "rgt") VALUES('Category 3', '2010-09-04 11:34:20', '2010-09-04 11:34:20', 5, NULL, '', 6)[0m
Redirected to http://localhost:3000/categories/7
Completed in 114ms (DB: 0) | 302 Found [http://localhost/categories]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 21:34:20) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 7) [0m
Rendering template within layouts/application
Rendering categories/show
Completed in 11ms (View: 6, DB: 0) | 200 OK [http://localhost/categories/7]


Processing CategoriesController#new (for 127.0.0.1 at 2010-09-04 21:34:22) [GET]
Rendering template within layouts/application
Rendering categories/new
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."lft" >= 1 AND "categories"."rgt" <= 2) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."lft" >= 3 AND "categories"."rgt" <= 4) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."lft" >= 5 AND "categories"."rgt" <= 6) ORDER BY "lft"[0m
Rendered categories/_form (11.1ms)
Completed in 18ms (View: 12, DB: 1) | 200 OK [http://localhost/categories/new]


Processing CategoriesController#create (for 127.0.0.1 at 2010-09-04 21:34:26) [POST]
  Parameters: {"category"=>{"name"=>"Category 4", "parent_id"=>"", "description"=>""}, "commit"=>"Save changes", "authenticity_token"=>"P+H6F8/9W3mXjQP3dWzf7n6VsrdK557QKvfBM8/2/bA="}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("categories".rgt) AS max_rgt FROM "categories" [0m
  [4;35;1mCategory Create (0.3ms)[0m   [0mINSERT INTO "categories" ("name", "created_at", "updated_at", "lft", "parent_id", "description", "rgt") VALUES('Category 4', '2010-09-04 11:34:26', '2010-09-04 11:34:26', 7, NULL, '', 8)[0m
Redirected to http://localhost:3000/categories/8
Completed in 93ms (DB: 0) | 302 Found [http://localhost/categories]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 21:34:26) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 8) [0m
Rendering template within layouts/application
Rendering categories/show
Completed in 12ms (View: 5, DB: 0) | 200 OK [http://localhost/categories/8]


Processing CategoriesController#new (for 127.0.0.1 at 2010-09-04 21:34:27) [GET]
Rendering template within layouts/application
Rendering categories/new
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."lft" >= 1 AND "categories"."rgt" <= 2) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."lft" >= 3 AND "categories"."rgt" <= 4) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."lft" >= 5 AND "categories"."rgt" <= 6) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."lft" >= 7 AND "categories"."rgt" <= 8) ORDER BY "lft"[0m
Rendered categories/_form (95.6ms)
Completed in 103ms (View: 96, DB: 1) | 200 OK [http://localhost/categories/new]


Processing CategoriesController#create (for 127.0.0.1 at 2010-09-04 21:34:31) [POST]
  Parameters: {"category"=>{"name"=>"Category 5", "parent_id"=>"", "description"=>""}, "commit"=>"Save changes", "authenticity_token"=>"P+H6F8/9W3mXjQP3dWzf7n6VsrdK557QKvfBM8/2/bA="}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("categories".rgt) AS max_rgt FROM "categories" [0m
  [4;35;1mCategory Create (0.3ms)[0m   [0mINSERT INTO "categories" ("name", "created_at", "updated_at", "lft", "parent_id", "description", "rgt") VALUES('Category 5', '2010-09-04 11:34:31', '2010-09-04 11:34:31', 9, NULL, '', 10)[0m
Redirected to http://localhost:3000/categories/9
Completed in 16ms (DB: 0) | 302 Found [http://localhost/categories]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 21:34:31) [GET]
  Parameters: {"id"=>"9"}
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 9) [0m
Rendering template within layouts/application
Rendering categories/show
Completed in 12ms (View: 5, DB: 0) | 200 OK [http://localhost/categories/9]


Processing CategoriesController#new (for 127.0.0.1 at 2010-09-04 21:34:32) [GET]
Rendering template within layouts/application
Rendering categories/new
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."lft" >= 1 AND "categories"."rgt" <= 2) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."lft" >= 3 AND "categories"."rgt" <= 4) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."lft" >= 5 AND "categories"."rgt" <= 6) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."lft" >= 7 AND "categories"."rgt" <= 8) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."lft" >= 9 AND "categories"."rgt" <= 10) ORDER BY "lft"[0m
Rendered categories/_form (13.8ms)
Completed in 21ms (View: 14, DB: 1) | 200 OK [http://localhost/categories/new]


Processing CategoriesController#create (for 127.0.0.1 at 2010-09-04 21:34:37) [POST]
  Parameters: {"category"=>{"name"=>"Category 6", "parent_id"=>"", "description"=>""}, "commit"=>"Save changes", "authenticity_token"=>"P+H6F8/9W3mXjQP3dWzf7n6VsrdK557QKvfBM8/2/bA="}
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("categories".rgt) AS max_rgt FROM "categories" [0m
  [4;36;1mCategory Create (0.3ms)[0m   [0;1mINSERT INTO "categories" ("name", "created_at", "updated_at", "lft", "parent_id", "description", "rgt") VALUES('Category 6', '2010-09-04 11:34:37', '2010-09-04 11:34:37', 11, NULL, '', 12)[0m
Redirected to http://localhost:3000/categories/10
Completed in 34ms (DB: 0) | 302 Found [http://localhost/categories]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 21:34:37) [GET]
  Parameters: {"id"=>"10"}
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 10) [0m
Rendering template within layouts/application
Rendering categories/show
Completed in 97ms (View: 5, DB: 0) | 200 OK [http://localhost/categories/10]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 21:34:50) [GET]
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 23ms (View: 17, DB: 1) | 200 OK [http://localhost/categories]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:34:52) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.6ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Rendered partials/_tree (2.5ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (0.4ms)
Completed in 16ms (View: 14, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#array (for 127.0.0.1 at 2010-09-04 21:35:05) [POST]
  Parameters: {"ul"=>{"0"=>{"class"=>"", "id"=>"category_5"}, "1"=>{"class"=>"", "id"=>"category_6", "children"=>{"0"=>{"class"=>"", "id"=>"category_7", "children"=>{"0"=>{"class"=>"", "id"=>"category_8"}}}}}, "2"=>{"class"=>"", "id"=>"category_9"}, "3"=>{"class"=>"", "id"=>"category_10"}}}
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','5')) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 5) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','6')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','5')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 5) [0m
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 6) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','7')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 6) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 7) [0m
  [4;35;1mCategory Update (0.3ms)[0m   [0mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 4 AND 4 THEN "lft" + 6 - 4 WHEN "lft" BETWEEN 5 AND 6 THEN "lft" + 4 - 5 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 4 AND 4 THEN "rgt" + 6 - 4 WHEN "rgt" BETWEEN 5 AND 6 THEN "rgt" + 4 - 5 ELSE "rgt" END, "parent_id" = CASE WHEN id = 7 THEN 6 ELSE "parent_id" END [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 6) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 7) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','8')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 7) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 8) [0m
  [4;35;1mCategory Update (0.3ms)[0m   [0mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 5 AND 6 THEN "lft" + 8 - 6 WHEN "lft" BETWEEN 7 AND 8 THEN "lft" + 5 - 7 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 5 AND 6 THEN "rgt" + 8 - 6 WHEN "rgt" BETWEEN 7 AND 8 THEN "rgt" + 5 - 7 ELSE "rgt" END, "parent_id" = CASE WHEN id = 8 THEN 7 ELSE "parent_id" END [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 7) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 8) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','9')) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','6')) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 6) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 9) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','10')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','9')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 9) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 10) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" LEFT OUTER JOIN "categories" AS parent ON "categories"."parent_id" = parent.id WHERE ("categories"."lft" IS NULL OR "categories"."rgt" IS NULL OR "categories"."lft" >= "categories"."rgt" OR ("categories"."parent_id" IS NOT NULL AND ("categories"."lft" <= parent."lft" OR "categories"."rgt" >= parent."rgt"))) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", COUNT("lft") FROM "categories" GROUP BY "lft" 
 HAVING COUNT("lft") > 1 LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "rgt", COUNT("rgt") FROM "categories" GROUP BY "rgt" 
 HAVING COUNT("rgt") > 1 LIMIT 1[0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Completed in 72ms (View: 1, DB: 4) | 200 OK [http://localhost/categories/array]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 21:35:14) [GET]
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 102ms (View: 96, DB: 1) | 200 OK [http://localhost/categories]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 21:36:52) [GET]
  [4;35;1mCategory Load (0.8ms)[0m   [0mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 27ms (View: 21, DB: 1) | 200 OK [http://localhost/categories]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 21:37:18) [GET]
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 27ms (View: 20, DB: 1) | 200 OK [http://localhost/categories]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 21:38:14) [GET]
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 6) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 7) [0m
Completed in 27ms (View: 21, DB: 1) | 200 OK [http://localhost/categories]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 21:38:44) [GET]
  [4;36;1mCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 6) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 7) [0m
Completed in 110ms (View: 103, DB: 1) | 200 OK [http://localhost/categories]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 21:39:03) [GET]
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 6) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 7) [0m
Completed in 29ms (View: 22, DB: 1) | 200 OK [http://localhost/categories]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 21:39:44) [GET]
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 6) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 7) [0m
Completed in 28ms (View: 22, DB: 1) | 200 OK [http://localhost/categories]


Processing CategoriesController#destroy (for 127.0.0.1 at 2010-09-04 21:40:17) [DELETE]
  Parameters: {"authenticity_token"=>"P+H6F8/9W3mXjQP3dWzf7n6VsrdK557QKvfBM8/2/bA=", "id"=>"6"}
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 6) [0m
  [4;36;1mCategory Delete all (0.3ms)[0m   [0;1mDELETE FROM "categories" WHERE ("lft" > 3 AND "rgt" < 8) [0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE "categories" SET "lft" = ("lft" - 6) WHERE ("lft" > 8) [0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE "categories" SET "rgt" = ("rgt" - 6) WHERE ("rgt" > 8) [0m
  [4;35;1mCategory Destroy (0.1ms)[0m   [0mDELETE FROM "categories" WHERE "id" = 6[0m
Redirected to http://localhost:3000/categories
Completed in 227ms (DB: 1) | 302 Found [http://localhost/categories/6]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 21:40:17) [GET]
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 16ms (View: 10, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#destroy (for 127.0.0.1 at 2010-09-04 21:40:23) [DELETE]
  Parameters: {"authenticity_token"=>"P+H6F8/9W3mXjQP3dWzf7n6VsrdK557QKvfBM8/2/bA=", "id"=>"10"}
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 10) [0m
  [4;36;1mCategory Delete all (0.2ms)[0m   [0;1mDELETE FROM "categories" WHERE ("lft" > 5 AND "rgt" < 6) [0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE "categories" SET "lft" = ("lft" - 2) WHERE ("lft" > 6) [0m
  [4;36;1mCategory Update (0.0ms)[0m   [0;1mUPDATE "categories" SET "rgt" = ("rgt" - 2) WHERE ("rgt" > 6) [0m
  [4;35;1mCategory Destroy (0.1ms)[0m   [0mDELETE FROM "categories" WHERE "id" = 10[0m
Redirected to http://localhost:3000/categories
Completed in 52ms (DB: 1) | 302 Found [http://localhost/categories/10]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 21:40:23) [GET]
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 13ms (View: 8, DB: 0) | 200 OK [http://localhost/categories]


Processing CategoriesController#new (for 127.0.0.1 at 2010-09-04 21:40:29) [GET]
Rendering template within layouts/application
Rendering categories/new
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."lft" >= 1 AND "categories"."rgt" <= 2) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."lft" >= 3 AND "categories"."rgt" <= 4) ORDER BY "lft"[0m
Rendered categories/_form (9.8ms)
Completed in 17ms (View: 11, DB: 1) | 200 OK [http://localhost/categories/new]


Processing CategoriesController#create (for 127.0.0.1 at 2010-09-04 21:40:34) [POST]
  Parameters: {"category"=>{"name"=>"Category 1", "parent_id"=>"", "description"=>""}, "commit"=>"Save changes", "authenticity_token"=>"P+H6F8/9W3mXjQP3dWzf7n6VsrdK557QKvfBM8/2/bA="}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("categories".rgt) AS max_rgt FROM "categories" [0m
  [4;35;1mCategory Create (0.3ms)[0m   [0mINSERT INTO "categories" ("name", "created_at", "updated_at", "lft", "parent_id", "description", "rgt") VALUES('Category 1', '2010-09-04 11:40:34', '2010-09-04 11:40:34', 5, NULL, '', 6)[0m
Redirected to http://localhost:3000/categories/11
Completed in 64ms (DB: 1) | 302 Found [http://localhost/categories]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 21:40:34) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" = 11) [0m
Rendering template within layouts/application
Rendering categories/show
Completed in 11ms (View: 5, DB: 0) | 200 OK [http://localhost/categories/11]


Processing CategoriesController#new (for 127.0.0.1 at 2010-09-04 21:40:36) [GET]
Rendering template within layouts/application
Rendering categories/new
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."lft" >= 1 AND "categories"."rgt" <= 2) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."lft" >= 3 AND "categories"."rgt" <= 4) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."lft" >= 5 AND "categories"."rgt" <= 6) ORDER BY "lft"[0m
Rendered categories/_form (11.9ms)
Completed in 97ms (View: 13, DB: 1) | 200 OK [http://localhost/categories/new]


Processing CategoriesController#create (for 127.0.0.1 at 2010-09-04 21:40:40) [POST]
  Parameters: {"category"=>{"name"=>"Category 2", "parent_id"=>"", "description"=>""}, "commit"=>"Save changes", "authenticity_token"=>"P+H6F8/9W3mXjQP3dWzf7n6VsrdK557QKvfBM8/2/bA="}
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("categories".rgt) AS max_rgt FROM "categories" [0m
  [4;36;1mCategory Create (0.3ms)[0m   [0;1mINSERT INTO "categories" ("name", "created_at", "updated_at", "lft", "parent_id", "description", "rgt") VALUES('Category 2', '2010-09-04 11:40:40', '2010-09-04 11:40:40', 7, NULL, '', 8)[0m
Redirected to http://localhost:3000/categories/12
Completed in 15ms (DB: 0) | 302 Found [http://localhost/categories]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 21:40:40) [GET]
  Parameters: {"id"=>"12"}
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 12) [0m
Rendering template within layouts/application
Rendering categories/show
Completed in 12ms (View: 6, DB: 0) | 200 OK [http://localhost/categories/12]


Processing CategoriesController#new (for 127.0.0.1 at 2010-09-04 21:40:41) [GET]
Rendering template within layouts/application
Rendering categories/new
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."lft" >= 1 AND "categories"."rgt" <= 2) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."lft" >= 3 AND "categories"."rgt" <= 4) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."lft" >= 5 AND "categories"."rgt" <= 6) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."lft" >= 7 AND "categories"."rgt" <= 8) ORDER BY "lft"[0m
Rendered categories/_form (11.9ms)
Completed in 19ms (View: 13, DB: 1) | 200 OK [http://localhost/categories/new]


Processing CategoriesController#create (for 127.0.0.1 at 2010-09-04 21:40:46) [POST]
  Parameters: {"category"=>{"name"=>"Category 3", "parent_id"=>"", "description"=>""}, "commit"=>"Save changes", "authenticity_token"=>"P+H6F8/9W3mXjQP3dWzf7n6VsrdK557QKvfBM8/2/bA="}
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("categories".rgt) AS max_rgt FROM "categories" [0m
  [4;36;1mCategory Create (0.3ms)[0m   [0;1mINSERT INTO "categories" ("name", "created_at", "updated_at", "lft", "parent_id", "description", "rgt") VALUES('Category 3', '2010-09-04 11:40:46', '2010-09-04 11:40:46', 9, NULL, '', 10)[0m
Redirected to http://localhost:3000/categories/13
Completed in 30ms (DB: 0) | 302 Found [http://localhost/categories]


Processing CategoriesController#show (for 127.0.0.1 at 2010-09-04 21:40:46) [GET]
  Parameters: {"id"=>"13"}
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" = 13) [0m
Rendering template within layouts/application
Rendering categories/show
Completed in 11ms (View: 5, DB: 0) | 200 OK [http://localhost/categories/13]


Processing CategoriesController#index (for 127.0.0.1 at 2010-09-04 21:40:51) [GET]
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" [0m
Rendering template within layouts/application
Rendering categories/index
Completed in 21ms (View: 15, DB: 1) | 200 OK [http://localhost/categories]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:40:55) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Rendered partials/_tree (2.5ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (0.4ms)
Completed in 15ms (View: 13, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#array (for 127.0.0.1 at 2010-09-04 21:41:04) [POST]
  Parameters: {"ul"=>{"0"=>{"class"=>"", "id"=>"category_5", "children"=>{"0"=>{"class"=>"", "id"=>"category_11"}, "1"=>{"class"=>"", "id"=>"category_12"}}}, "1"=>{"class"=>"", "id"=>"category_9", "children"=>{"0"=>{"class"=>"", "id"=>"category_13"}}}}}
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','5')) LIMIT 1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 5) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','11')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 5) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 11) [0m
  [4;35;1mCategory Update (0.4ms)[0m   [0mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 2 AND 4 THEN "lft" + 6 - 4 WHEN "lft" BETWEEN 5 AND 6 THEN "lft" + 2 - 5 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 2 AND 4 THEN "rgt" + 6 - 4 WHEN "rgt" BETWEEN 5 AND 6 THEN "rgt" + 2 - 5 ELSE "rgt" END, "parent_id" = CASE WHEN id = 11 THEN 5 ELSE "parent_id" END [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 5) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 11) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','12')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 5) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 12) [0m
  [4;35;1mCategory Update (0.4ms)[0m   [0mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 4 AND 6 THEN "lft" + 8 - 6 WHEN "lft" BETWEEN 7 AND 8 THEN "lft" + 4 - 7 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 4 AND 6 THEN "rgt" + 8 - 6 WHEN "rgt" BETWEEN 7 AND 8 THEN "rgt" + 4 - 7 ELSE "rgt" END, "parent_id" = CASE WHEN id = 12 THEN 5 ELSE "parent_id" END [0m
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 5) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 12) [0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','9')) LIMIT 1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','5')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 5) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 9) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','13')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 9) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 13) [0m
  [4;35;1mCategory Update (0.3ms)[0m   [0mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 8 AND 8 THEN "lft" + 10 - 8 WHEN "lft" BETWEEN 9 AND 10 THEN "lft" + 8 - 9 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 8 AND 8 THEN "rgt" + 10 - 8 WHEN "rgt" BETWEEN 9 AND 10 THEN "rgt" + 8 - 9 ELSE "rgt" END, "parent_id" = CASE WHEN id = 13 THEN 9 ELSE "parent_id" END [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 9) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 13) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" LEFT OUTER JOIN "categories" AS parent ON "categories"."parent_id" = parent.id WHERE ("categories"."lft" IS NULL OR "categories"."rgt" IS NULL OR "categories"."lft" >= "categories"."rgt" OR ("categories"."parent_id" IS NOT NULL AND ("categories"."lft" <= parent."lft" OR "categories"."rgt" >= parent."rgt"))) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", COUNT("lft") FROM "categories" GROUP BY "lft" 
 HAVING COUNT("lft") > 1 LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "rgt", COUNT("rgt") FROM "categories" GROUP BY "rgt" 
 HAVING COUNT("rgt") > 1 LIMIT 1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Completed in 86ms (View: 1, DB: 5) | 200 OK [http://localhost/categories/array]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:41:05) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 5) ORDER BY "lft"[0m
Rendered partials/_tree (0.6ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (5.1ms)
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 9) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (2.2ms)
Completed in 98ms (View: 96, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:41:07) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 5) ORDER BY "lft"[0m
Rendered partials/_tree (0.8ms)
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (5.3ms)
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 9) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (2.1ms)
Completed in 18ms (View: 16, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:41:08) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 5) ORDER BY "lft"[0m
Rendered partials/_tree (0.6ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (5.0ms)
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 9) ORDER BY "lft"[0m
Rendered partials/_tree (0.6ms)
Rendered partials/_tree (2.3ms)
Completed in 18ms (View: 15, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing CategoriesController#array (for 127.0.0.1 at 2010-09-04 21:41:09) [POST]
  Parameters: {"ul"=>{"0"=>{"class"=>"", "id"=>"category_5", "children"=>{"0"=>{"class"=>"", "id"=>"category_11"}, "1"=>{"class"=>"", "id"=>"category_12"}}}, "1"=>{"class"=>"", "id"=>"category_9", "children"=>{"0"=>{"class"=>"", "id"=>"category_13"}}}}}
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','5')) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 5) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','11')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 5) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 11) [0m
  [4;36;1mCategory Update (0.3ms)[0m   [0;1mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 2 AND 3 THEN "lft" + 5 - 3 WHEN "lft" BETWEEN 4 AND 5 THEN "lft" + 2 - 4 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 2 AND 3 THEN "rgt" + 5 - 3 WHEN "rgt" BETWEEN 4 AND 5 THEN "rgt" + 2 - 4 ELSE "rgt" END, "parent_id" = CASE WHEN id = 11 THEN 5 ELSE "parent_id" END [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 5) [0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 11) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','12')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 5) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 12) [0m
  [4;36;1mCategory Update (0.3ms)[0m   [0;1mUPDATE "categories" SET "lft" = CASE WHEN "lft" BETWEEN 2 AND 3 THEN "lft" + 5 - 3 WHEN "lft" BETWEEN 4 AND 5 THEN "lft" + 2 - 4 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 2 AND 3 THEN "rgt" + 5 - 3 WHEN "rgt" BETWEEN 4 AND 5 THEN "rgt" + 2 - 4 ELSE "rgt" END, "parent_id" = CASE WHEN id = 12 THEN 5 ELSE "parent_id" END [0m
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 5) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 12) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','9')) LIMIT 1[0m
  [4;36;1mCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','5')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 5) [0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 9) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."id" IN ('','13')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 9) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", "rgt", "parent_id" FROM "categories" WHERE ("categories"."id" = 13) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" LEFT OUTER JOIN "categories" AS parent ON "categories"."parent_id" = parent.id WHERE ("categories"."lft" IS NULL OR "categories"."rgt" IS NULL OR "categories"."lft" >= "categories"."rgt" OR ("categories"."parent_id" IS NOT NULL AND ("categories"."lft" <= parent."lft" OR "categories"."rgt" >= parent."rgt"))) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT "lft", COUNT("lft") FROM "categories" GROUP BY "lft" 
 HAVING COUNT("lft") > 1 LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT "rgt", COUNT("rgt") FROM "categories" GROUP BY "rgt" 
 HAVING COUNT("rgt") > 1 LIMIT 1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
Completed in 74ms (View: 1, DB: 4) | 200 OK [http://localhost/categories/array]


Processing CategoriesController#dragdrop (for 127.0.0.1 at 2010-09-04 21:41:13) [GET]
Rendering template within layouts/application
Rendering categories/dragdrop
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 5) ORDER BY "lft"[0m
Rendered partials/_tree (0.6ms)
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (5.5ms)
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 9) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (2.2ms)
Completed in 19ms (View: 16, DB: 1) | 200 OK [http://localhost/categories/dragdrop]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 21:41:18) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 5) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 5) ORDER BY "lft"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 9) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 9) ORDER BY "lft"[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 5) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (2.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 9) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (1.6ms)
Completed in 18ms (View: 16, DB: 1) | 200 OK [http://localhost/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 21:41:23) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 5) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 5) ORDER BY "lft"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 9) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 9) ORDER BY "lft"[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 5) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (2.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 9) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (1.8ms)
Completed in 18ms (View: 16, DB: 1) | 200 OK [http://localhost/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 21:41:25) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 5) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 5) ORDER BY "lft"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 9) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 9) ORDER BY "lft"[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 5) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (3.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 9) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (1.6ms)
Completed in 97ms (View: 94, DB: 1) | 200 OK [http://localhost/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 21:43:10) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 5) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 5) ORDER BY "lft"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 9) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 9) ORDER BY "lft"[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 5) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (2.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 9) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (1.7ms)
Completed in 24ms (View: 21, DB: 1) | 200 OK [http://localhost/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 21:44:27) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 5) [0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 5) ORDER BY "lft"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 9) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 9) ORDER BY "lft"[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 5) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (0.6ms)
Rendered partials/_tree (3.2ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 9) ORDER BY "lft"[0m
Rendered partials/_tree (1.0ms)
Rendered partials/_tree (5.3ms)
Completed in 27ms (View: 24, DB: 1) | 200 OK [http://localhost/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 21:44:42) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 5) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 5) ORDER BY "lft"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 9) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 9) ORDER BY "lft"[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 5) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (0.8ms)
Rendered partials/_tree (82.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 9) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (1.8ms)
Completed in 100ms (View: 97, DB: 1) | 200 OK [http://localhost/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 21:44:52) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 5) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 5) ORDER BY "lft"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 9) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 9) ORDER BY "lft"[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 5) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (2.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 9) ORDER BY "lft"[0m
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (1.5ms)
Completed in 20ms (View: 17, DB: 1) | 200 OK [http://localhost/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 21:44:59) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 5) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 5) ORDER BY "lft"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 9) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 9) ORDER BY "lft"[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 5) ORDER BY "lft"[0m
Rendered partials/_tree (0.9ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (3.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 9) ORDER BY "lft"[0m
Rendered partials/_tree (0.6ms)
Rendered partials/_tree (1.8ms)
Completed in 21ms (View: 18, DB: 1) | 200 OK [http://localhost/]


Processing IndexController#index (for 127.0.0.1 at 2010-09-04 21:45:06) [GET]
Rendering template within layouts/application
Rendering index/index
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 5) [0m
  [4;35;1mCategory Load (0.7ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 5) ORDER BY "lft"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "categories" WHERE ("categories".parent_id = 9) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 9) ORDER BY "lft"[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories"."parent_id" IS NULL) ORDER BY "lft"[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "categories" WHERE ("categories".parent_id = 5) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (0.4ms)
Rendered partials/_tree (2.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "categories" WHERE ("categories".parent_id = 9) ORDER BY "lft"[0m
Rendered partials/_tree (0.5ms)
Rendered partials/_tree (1.6ms)
Completed in 19ms (View: 16, DB: 2) | 200 OK [http://localhost/]
